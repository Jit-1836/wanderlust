<% layout("/layouts/boilerplate") %>
<style>
  #filters {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
  }

  .filter {
    text-align: center;
    margin-right: 2rem;
    margin-top: 2rem;
    opacity: 0.7;
  }

  .filter:hover {
    opacity: 1;
    cursor: pointer;
  }

  .filter p {
    font-size: 0.rem;
  }

  .tax-info {
    display: none;
  }

  .tax-toggle {
    border: 1px solid black;
    border-radius: 1rem;
    height: 3.25rem;
    padding: 1rem;
    margin-left: -1rem;
    display: flex;
    display: block;
    align-items: center;
  }
  #filters a {
    text-decoration: none;
    color: black;
  }
  #floatingSelect {
    border: 1px solid black;
    margin-right: 100px;
    height: 3.25rem;
    padding: 0.3rem;
    border-radius: 1rem;
    align-items: center !important;
  }
  .btn-secondary {
    background-color: #fe424d;
  }
  @media screen and (min-width:767px) {
    .dropdown-toggle {
      display: none;
    }
  }
  @media screen and (max-width:769px) {
    .filter {
      display: none;
    }
  }

</style>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
    Category
  </button>
  <ul class="dropdown-menu">
    <li><a class="dropdown-item" href="/listings/Trending">Trending</a></li>
    <li><a class="dropdown-item" href="/listings/Rooms">Rooms</a></li>
    <li><a class="dropdown-item" href="/listings/Iconic cities">Iconic cities</a></li>
    <li><a class="dropdown-item" href="/listings/Moutains">Moutains</a></li>
    <li><a class="dropdown-item" href="/listings/Castles">Castles</a></li>
    <li><a class="dropdown-item" href="/listings/Amazing Pools">Amazing Pools</a></li>
    <li><a class="dropdown-item" href="/listings/Camping">Camping</a></li>
    <li><a class="dropdown-item" href="/listngs/Farms">Farms</a></li>
    <li><a class="dropdown-item" href="/listings/Arctic">Arctic</a></li>
    <li><a class="dropdown-item" href="/listings/Domes">Domes</a></li>
    <li><a class="dropdown-item" href="/listings/Boats">Boats</a></li>
  </ul>
</div>

    <div id="filters">
      <div class="filter">
        <a href="/listings/Trending" id="category">
          <div><i class="fa-solid fa-fire"></i></div>
          <p>Trending</p></a>
        </div>
        <a href="/listings/Rooms"><div class="filter">
          <div><i class="fa-solid fa-bed"></i></div>
          <p>Rooms</p></a>
        </div>
        <a href="/listings/cities"><div class="filter">
          <div><i class="fa-solid fa-mountain-city"></i></div>
          <p>Iconic cities</p></a>
        </div>
        <a href="/listings/Moutains"><div class="filter">
          <div><i class="fa-solid fa-mountain"></i></div>
          <p>Moutains</p></a>
        </div>
        <a href="/listings/Castles"><div class="filter">
          <div><i class="fa-brands fa-fort-awesome"></i></div>
          <p>Castles</p></a>
        </div>
        <a href="/listings/Pools"><div class="filter">
          <div><i class="fa-solid fa-person-swimming"></i></div>
          <p>Amazing Pools</p></a>
        </div>
        <a href="/listings/Camping"><div class="filter">
          <div><i class="fa-solid fa-campground"></i></div>
          <p>Camping</p></a>
        </div>
        <a href="/listings/Farms"><div class="filter">
          <div><i class="fa-solid fa-cow"></i></div>
          <p>Farms</p></a>
        </div>
        <a href="/listings/Arctic"><div class="filter">
          <div><i class="fa-regular fa-snowflake"></i></div>
          <p>Arctic</p></a>
        </div>
        <a href="/listings/Domes"><div class="filter">
          <div><i class="fa-solid fa-igloo"></i></div>
          <p>Domes</p></a>
        </div>
        <a href="/listings/Boats"><div class="filter">
          <div><i class="fa-solid fa-ship"></i></div>
          <p>Boats</p></a>
        </div>
      </div>
    </div>
  </div>
    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3">
        <% for(let listing of allListings) { %>
            <a href="/listings/<%= listing._id %>" class="listing-link">
            <div class="card col listing-card" >
                <img src="<%= listing.image.url %>" class="card-img-top" alt="listing_image"style="height: 20rem;">
                <div class="card-img-overlay"></div>
                <div class="card-body">
                  <p class="card-text">
                    <b><%= listing.title %> <br></b>
                    &#8377; <%= listing.price.toLocaleString("en-IN")  %> / night
                     <i class="tax-info"> &nbsp; &nbsp; +18% GST</i>
                  </p>
                </div>
            </div>        
              <% } %> 
    </div>
    
   <script>
    let taxSwitch = document.getElementById("flexSwitchCheckDefault");
    taxSwitch.addEventListener("click", () => {
      let taxinfo = document.getElementsByClassName("tax-info");
      for (info of taxinfo) {
        if(info.style.display != "inline") {
          info.style.display = "inline";
        } else {
          info.style.display = "none";
        }
      }
    })
   </script>
   

